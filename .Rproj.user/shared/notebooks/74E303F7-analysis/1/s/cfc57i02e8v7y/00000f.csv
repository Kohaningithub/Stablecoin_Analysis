"0","# Ensure period is in Date format and create period labels"
"0","results$network_metrics <- results$network_metrics %>%"
"0","    mutate(period_label = case_when("
"0","      period < as.Date(""2022-05-08"") ~ ""Pre-Crash"","
"0","      period <= as.Date(""2022-05-15"") ~ ""Crash-Period"","
"0","      TRUE ~ ""Post-Crash"""
"0","    ))"
"0",""
"0","  # Convert period_label to a factor for correct ordering"
"0","results$network_metrics$period_label <- factor("
"0","    results$network_metrics$period_label, "
"0","    levels = c(""Pre-Crash"", ""Crash-Period"", ""Post-Crash"")"
"0","  )"
"0",""
"0","# Reshape data for summary table"
"0","network_comparison <- results$network_metrics %>%"
"0","    select(token, period_label, nodes, edges, density, reciprocity, modularity) %>%"
"0","    pivot_wider("
"0","      names_from = period_label,"
"0","      values_from = c(nodes, edges, density, reciprocity, modularity)"
"0","    )"
"0",""
"0","# Print summary table"
"0","print(network_comparison)"
